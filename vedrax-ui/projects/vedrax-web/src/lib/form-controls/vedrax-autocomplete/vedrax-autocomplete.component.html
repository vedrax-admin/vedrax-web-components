<div *ngIf="descriptor">
    <button (click)="open(dropdown, origin)" #origin>
        <ng-template [ngIf]="!isOpen" [ngIfElse]="searchTpl">
            {{selected.value}}
        </ng-template>
        <ng-template #searchTpl>
            <input matInput [formControl]="searchControl">
        </ng-template>
    </button>

    <ng-template #dropdown>
        <div class="vedrax-autocomplete-menu">
            <cdk-virtual-scroll-viewport itemSize="30" [style.height.px]="visibleOptions * 30">
                <div *cdkVirtualFor="let option of dataSource">

                    <div *ngIf="option" [class.active]="isActive(option)" (click)="select(option)">
                        {{option.value}}
                    </div>
                    <div *ngIf="!option">
                        Loading ...
                    </div>

                </div>
            </cdk-virtual-scroll-viewport>
        </div>
    </ng-template>
</div>