<div *ngIf="descriptor" class="vedrax-dynamic-m-b-15" [formGroup]="form">

    <div fxLayout="column" [formArrayName]="descriptor.controlName">

        <div fxLayout="row" fxLayoutGap="15px" *ngFor="let control of formArray.controls; let i = index;"
            [formGroupName]="i">
          
            <vedrax-control *ngFor="let ctrl of descriptor.controlChildren" [descriptor]="ctrl" [control]="control.get(ctrl.controlName)"></vedrax-control>

            <button class="remove-param" mat-icon-button aria-label="remove" (click)="remove(i)">
                <mat-icon>delete</mat-icon>
            </button>

        </div>

        <button color="primary" class="add-param" mat-stroked-button aria-label="add" (click)="add()">
            {{descriptor.controlLabel}}
        </button>

    </div>

</div>