<mat-card class="m-b-15">
    <mat-card-content>
        <mat-form-field *ngIf="withFilter">
            <mat-label>Filtrer par</mat-label>
            <mat-select [formControl]="filterControl">
                <mat-option *ngFor="let filter of filters" [value]="filter.key">
                    {{filter.value}}
                </mat-option>
            </mat-select>
        </mat-form-field>
        <mat-form-field>
            <mat-label>{{label}}</mat-label>
            <input [formControl]="searchControl" matInput>
        </mat-form-field>

        <div class="vedrax-viewer-list">
            <mat-selection-list multiple=false>
                <cdk-virtual-scroll-viewport itemSize="30" [style.height.px]="visibleOptions * 30">
                    <mat-list-option *cdkVirtualFor="let option of datasource" (click)="select(option)">{{option.value}}
                    </mat-list-option>
                </cdk-virtual-scroll-viewport>
            </mat-selection-list>
        </div>
    </mat-card-content>
    <mat-card-footer class="vedrax-search-list-footer">
        <button mat-button mat-icon-button aria-label="Back" (click)="close()">
            <mat-icon>arrow_back</mat-icon>
        </button>
        <mat-spinner *ngIf="datasource.isLoadingResults" diameter="20"></mat-spinner>
    </mat-card-footer>
</mat-card>