<div class="dopdown" *ngIf="descriptor">
    <button class="vedrax-select-trigger" (click)="open(dropdown, origin)" #origin>
        <ng-template [ngIf]="!isOpen" [ngIfElse]="searchTpl">
            {{selected.value}}
        </ng-template>
        <ng-template #searchTpl>
            <input class="vedrax-autocomplete-search" placeholder="Recherche..." [formControl]="searchControl" autofocus (click)="$event.stopPropagation()">
        </ng-template>
    </button>

    <ng-template #dropdown>
        <div class="vedrax-autocomplete-menu">
            <cdk-virtual-scroll-viewport itemSize="30" [style.height.px]="visibleOptions * 30" class="vedrax-menu-inner">
                <div *cdkVirtualFor="let option of datasource">

                    <div *ngIf="option" class="vedrax-select-item" [class.active]="isActive(option)" (click)="select(option)">
                        {{option.value}}
                    </div>
                    <div *ngIf="!option" class="no-results-item">
                        Loading ...
                    </div>

                </div>
            </cdk-virtual-scroll-viewport>
        </div>
    </ng-template>
</div>